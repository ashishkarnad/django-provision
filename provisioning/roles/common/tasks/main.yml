---

- name: update apt cache
  apt: update_cache=yes
  sudo: yes

- name: Install git
  apt: pkg=git state=latest
  sudo: yes

- name: Install vim
  apt: pkg=vim state=latest
  sudo: yes

- name: Install fail2ban
  apt: pkg=git state=latest
  sudo: yes
  notify:
    - ensure fail2ban

- name: install packages
  apt: pkg={{ item }} state=latest
  sudo: yes
  with_items:
    - build-essential
    - tree
    - psmisc
    - chkrootkit
    - ufw
    - curl
    - gnupg
    - zip
    - rsync
    - wget
    - cron


- name: Install packages needed for python development
  apt: pkg={{ item }} state=latest
  sudo: yes
  with_items:
    - python-setuptools
    - python-dev
    - build-essential

- name: Install pip
  apt: pkg=python-pip  state=latest
  sudo: yes

- name: Install virtualenv via pip
  pip: name=virtualenv
  sudo: yes
